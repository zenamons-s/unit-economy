import{r as m,l as x,m as C,j as s,o as T,p as y,q as S,P as L,t as W,v as B,C as w,w as R}from"./index.DSTThs-t.js";import{W as E}from"./WidgetLabelHelpIconInline.BjIku2ic.js";import{u as P}from"./useBasicWidgetState.DzKGLAv_.js";import{S as v,L as $,a as u}from"./checkbox.Q8mCuqps.js";import"./FormClearHelper.CA_5b-Ut.js";function M({element:o,disabled:a,widgetMgr:n,fragmentId:d}){const[p,g]=P({getStateFromWidgetMgr:X,getDefaultStateFromProto:H,getCurrStateFromProto:V,updateWidgetMgrState:F,element:o,widgetMgr:n,fragmentId:d}),f=m.useCallback(i=>{g({value:i.target.checked,fromUi:!0})},[g]),t=x(),{colors:e,spacing:h,sizes:r}=t,b=C(t),k=a?e.fadedText40:e.bodyText;return s(R,{className:"row-widget stCheckbox","data-testid":"stCheckbox",children:s(v,{checked:p,disabled:a,onChange:f,"aria-label":o.label,checkmarkType:o.type===w.StyleType.TOGGLE?u.toggle:u.default,labelPlacement:$.right,overrides:{Root:{style:({$isFocusVisible:i})=>({marginBottom:h.none,marginTop:h.none,backgroundColor:i?e.darkenedBgMix25:"",display:"flex",alignItems:"start"})},Toggle:{style:({$checked:i})=>{let c=b?e.bgColor:e.bodyText;return a&&(c=b?e.gray70:e.gray90),{width:`calc(${r.checkbox} - ${t.spacing.twoXS})`,height:`calc(${r.checkbox} - ${t.spacing.twoXS})`,transform:i?`translateX(${r.checkbox})`:"",backgroundColor:c,boxShadow:""}}},ToggleTrack:{style:({$checked:i,$isHovered:c})=>{let l=e.borderColor;return c&&!a&&(l=e.darkenedBgMix15),i&&!a&&(l=e.primary),{marginRight:0,marginLeft:0,marginBottom:0,marginTop:t.spacing.twoXS,paddingLeft:t.spacing.threeXS,paddingRight:t.spacing.threeXS,width:`calc(2 * ${r.checkbox})`,minWidth:`calc(2 * ${r.checkbox})`,height:r.checkbox,minHeight:r.checkbox,borderBottomLeftRadius:t.radii.full,borderTopLeftRadius:t.radii.full,borderBottomRightRadius:t.radii.full,borderTopRightRadius:t.radii.full,backgroundColor:l}}},Checkmark:{style:({$isFocusVisible:i,$checked:c})=>{const l=c&&!a?e.primary:e.borderColor;return{outline:0,width:r.checkbox,height:r.checkbox,marginTop:t.spacing.twoXS,marginLeft:0,marginBottom:0,boxShadow:i&&c?B(e.primary):"",borderLeftWidth:r.borderWidth,borderRightWidth:r.borderWidth,borderTopWidth:r.borderWidth,borderBottomWidth:r.borderWidth,borderLeftColor:l,borderRightColor:l,borderTopColor:l,borderBottomColor:l}}},Label:{style:{lineHeight:t.lineHeights.small,paddingLeft:t.spacing.sm,position:"relative",color:k}}},children:T(W,{visibility:y(o.labelVisibility?.value),"data-testid":"stWidgetLabel",children:[s(S,{source:o.label,allowHTML:!1,isLabel:!0,largerLabel:!0}),o.help&&s(E,{content:o.help,placement:L.TOP_RIGHT,label:o.label})]})})})}function X(o,a){return o.getBoolValue(a)}function H(o){return o.default??null}function V(o){return o.value??null}function F(o,a,n,d){a.setBoolValue(o,n.value,{fromUi:n.fromUi},d)}const A=m.memo(M);export{A as default};
